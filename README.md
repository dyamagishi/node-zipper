# nodeZipper - マルチプロセスフォルダ処理

このNode.jsスクリプトは、複数のフォルダを同時にZipファイルに圧縮するために作られました。
ですが、child.jsを変更することで、他の処理にも使えるかもしれません。

## 前提条件

- マシンにNode.jsがインストールされていること。
- Node.jsと子プロセスに関する基本的な理解。

## ディレクトリの要件

ターゲットディレクトリ (`sourceDir`) には処理したい複数のサブフォルダが含まれている必要があります。各サブフォルダは子プロセスによって処理される個別のタスクを表します。

### 例の構造

```
X:\scans\
├── folder1
├── folder2
├── folder3
└── folder4
```

## スクリプトの設定

### 定数

- `sourceDir`: 処理するフォルダが含まれているターゲットディレクトリ（例： `"X:\\scan\\"`）。
- `cpuNum`: 同時に実行するプロセスの数（例： `6`）。

### 子スクリプト

各サブフォルダの処理を担当するスクリプト `child.js` が必要です。環境変数 `filepath` が各子プロセスに渡され、それぞれのサブフォルダを指します。

## 実行方法

1. リポジトリをクローンするか、スクリプトファイルをローカルマシンに保存します。
2. `index.js` と `child.js` を含むディレクトリに移動します。
3. ターミナルを開き、以下のコマンドを実行します：

```sh
node index.js
```

これによりメインスクリプトが起動し、`sourceDir` 内のサブフォルダを読み取り、各フォルダを処理するための子プロセスを生成します。

## 注意事項

- 特定の使用ケースに応じて `sourceDir` と `cpuNum` の定数を適宜変更してください。
- 各サブフォルダの処理を担当する `child.js` スクリプトが実装されていることを確認してください。

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。